<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>File: README</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



  <div id="fileHeader">
    <h1>README</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>README
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Wed Apr 19 00:52:06 Pacific Daylight Time 2006</td>
    </tr>
    </table>
  </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <h1><a href="../classes/Settings.html">Settings</a> Plugin</h1>
<p>
<a href="../classes/Settings.html">Settings</a> is a plugin that makes
managing a table of global key, value pairs easy. Think of it like a global
Hash stored in you database, that uses simple ActiveRecord like methods for
manipulation. Keep track of any global setting that you dont want to hard
code into your rails app. You can store any kind of object. Strings,
numbers, arrays, or any object.
</p>
<h2>Setup</h2>
<p>
You must create the table used by the <a
href="../classes/Settings.html">Settings</a> model. Simply run this
command:
</p>
<pre>
  ruby script/generate settings_migration
</pre>
<p>
Now just put that migration in the database with:
</p>
<pre>
  rake migrate
</pre>
<h2>Usage</h2>
<p>
The syntax is easy. First, lets create some settings to keep track of:
</p>
<pre>
  Settings.admin_password = 'supersecret'
  Settings.date_format    = '%m %d, %Y'
  Settings.cocktails      = ['Martini', 'Screwdriver', 'White Russian']
  Settings.foo            = 123
</pre>
<p>
Now lets read them back:
</p>
<pre>
  Settings.foo            # returns 123
</pre>
<p>
Changing an existing setting is the same as creating a new setting:
</p>
<pre>
  Settings.foo = 'super duper bar'
</pre>
<p>
Decide you dont want to track a particular setting anymore?
</p>
<pre>
  Settings.destroy :foo
  Settings.foo            # Now gives a setting variable not found error.
</pre>
<p>
Want a list of all the settings?
</p>
<pre>
  Settings.all            # returns {'admin_password' =&gt; 'super_secret', 'date_format' =&gt; '%m %d, %Y'}
</pre>
<p>
Set defaults for certain settings of your app. This will cause the defined
settings to return with the Specified value even if they are not in the
database. Here is what you insert into your environment.rb
</p>
<pre>
  module SettingsDefaults
    DEFAULTS = {
      :setting_one =&gt; 'footastic',
      :setting_two =&gt; 123.321
    }
  end

  Settings.setting_one          #=&gt; returns &quot;footastic&quot; even though no record is in the databse for &quot;some_setting&quot;
  Settings.setting_one = 'bar'  # Database record is now created and 'bar' will be used instead of the default.
</pre>
<p>
NOTE: the server must be restarted in order to see new default settings.
</p>
<p>
All there is to it!. Enjoy!
</p>

    </div>


   </div>


  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>